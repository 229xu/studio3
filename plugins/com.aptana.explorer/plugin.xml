<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="org.eclipse.ui"
            class="com.aptana.explorer.internal.ui.FilteringProjectView"
            icon="icons/full/cview16/filenav_nav.png"
            id="com.aptana.explorer.view"
            name="%view.name"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewer
            viewerId="com.aptana.explorer.view">
      </viewer>
      <viewerContentBinding
            viewerId="com.aptana.explorer.view">
         <includes>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resourceContent">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.filters.*">
            </contentExtension>
            <contentExtension pattern="org.eclipse.jdt.java.ui.javaContent" />
			<contentExtension pattern="org.eclipse.jdt.java.ui.filters.*" />
			<contentExtension pattern="org.eclipse.ui.navigator.resources.linkHelper">
   </contentExtension>	
         </includes>
         <excludes>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.workingSets">
            </contentExtension>
         </excludes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="com.aptana.explorer.view">
         <includes>
            <actionExtension
                  pattern="org\.eclipse\.ui\.navigator\.resources\.(?!WorkingSetActions).*">
            </actionExtension>
         </includes>
      </viewerActionBinding>
	</extension>
   <extension
         point="com.aptana.scripting.contextContributors">
      <contributor
            class="com.aptana.explorer.ExplorerContextContributor"
            name="Active Project Info Contributors">
      </contributor>
   </extension>
   <extension
         point="com.aptana.scripting.loadPaths">
      <loadPath
            name="RadRails Framework Files"
            path="framework/">
      </loadPath>
   </extension>
   <extension
         point="com.aptana.scripting.frameworkFiles">
      <file
            name="ruble/project.rb">
      </file>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
         class="com.aptana.explorer.internal.ui.SearchTextHandler:org.eclipse.ui.edit.cut"
         commandId="org.eclipse.ui.edit.cut">
        <activeWhen>
           <with variable="activeFocusControlId">
             <equals value="com.aptana.explorer.view.searchText"/>
           </with>
        </activeWhen>
      </handler>
      <handler
         class="com.aptana.explorer.internal.ui.SearchTextHandler:org.eclipse.ui.edit.copy"
         commandId="org.eclipse.ui.edit.copy">
        <activeWhen>
           <with variable="com.aptana.explorer.view.searchText">
             <equals value="com.aptana.explorer.view.SearchInProject"/>
           </with>
        </activeWhen>
      </handler>
      <handler
         class="com.aptana.explorer.internal.ui.SearchTextHandler:org.eclipse.ui.edit.paste"
         commandId="org.eclipse.ui.edit.paste">
        <activeWhen>
           <with variable="activeFocusControlId">
             <equals value="com.aptana.explorer.view.searchText"/>
           </with>
        </activeWhen>
      </handler>
      <handler
         class="com.aptana.explorer.internal.ui.SearchTextHandler:org.eclipse.ui.edit.selectAll"
         commandId="org.eclipse.ui.edit.selectAll">
        <activeWhen>
           <with variable="activeFocusControlId">
             <equals value="com.aptana.explorer.view.searchText"/>
           </with>
        </activeWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <commonWizard
            associatedExtensionId="org.eclipse.ui.navigator.resourceContent"
            type="new"
            wizardId="com.aptana.ui.wizards.new.file">
         <enablement>
			<or>
				<adapt type="org.eclipse.core.resources.IFile" />
				<adapt type="org.eclipse.core.resources.IFolder" />
	         	<adapt type="org.eclipse.core.resources.IProject" />
	            <adapt type="org.eclipse.core.resources.IWorkspaceRoot" />
			</or>
	     </enablement>
      </commonWizard>
   </extension>
</plugin>
