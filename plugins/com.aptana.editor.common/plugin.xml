<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="com.aptana.editor.common.theme.preferences.ThemePreferencePage"
            id="com.aptana.editor.common.theme.page"
            name="%preferencePage.themes.name">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            categoryId="org.eclipse.ui.category.textEditor"
            description="%command.scope.description"
            id="com.aptana.editor.common.showscopes"
            name="%command.scope.name">
      </command>
      <command
       		categoryId="org.eclipse.ui.category.edit"
            description="%command.execute.description"
            id="com.aptana.editor.common.scripting.commands.ExecuteLineInsertingResult"
            name="%command.execute.name">
      </command>
       <command
       		categoryId="org.eclipse.ui.category.edit"
            description="%command.filter.description"
            id="com.aptana.editor.common.scripting.commands.FilterThroughCommand"
            name="%command.filter.name">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="com.aptana.editor.common.showscopes"
            contextId="org.eclipse.ui.textEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+Shift+P">
      </key>
      <key
            commandId="com.aptana.editor.common.scripting.commands.ExecuteLineInsertingResult"
            contextId="org.eclipse.ui.textEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+R">
      </key>
      <key
            commandId="com.aptana.editor.common.scripting.commands.FilterThroughCommand"
            contextId="org.eclipse.ui.textEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="Ctrl+Shift+R">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="com.aptana.editor.common.scripting.commands.ShowCommandsMenuHandler"
            id="com.aptana.editor.common.scripting.commands.show"
            name="Show Commands Menu">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.commandImages">
      <image
            commandId="com.aptana.editor.common.scripting.commands.show"
            icon="icons/command.png">
      </image>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:com.aptana.scripting.menu?after=additions">
         <dynamic
               class="com.aptana.editor.common.scripting.commands.EditorCommandsMenuContributor"
               id="com.aptana.editor.common.dynamic">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePart">
                  <instanceof
                        value="com.aptana.editor.common.AbstractThemeableEditor">
                  </instanceof>
               </with>
            </visibleWhen>
         </dynamic>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.aptana.scripting.popup.menu?after=commands">
         <dynamic
               class="com.aptana.editor.common.scripting.commands.EditorCommandsMenuContributor"
               id="com.aptana.editor.common.dynamic">
            <visibleWhen
                  checkEnabled="false">
               <with
                     variable="activePart">
                  <instanceof
                        value="com.aptana.editor.common.AbstractThemeableEditor">
                  </instanceof>
               </with>
            </visibleWhen>
         </dynamic>
      </menuContribution>
   </extension>

   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.aptana.editor.common.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectors">
      <hyperlinkDetector
            class="com.aptana.editor.common.hyperlinks.CommonHyperlinkDetector"
            id="com.aptana.editor.common.hyperlinkDetector"
            name="Aptana Editor Detector"
            targetId="com.aptana.editor.ui.hyperlinkTarget">
      </hyperlinkDetector>
   </extension>
   <extension
         point="org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets">
      <target
            id="com.aptana.editor.ui.hyperlinkTarget"
            name="Aptana Editor">
         <context
               type="org.eclipse.ui.texteditor.ITextEditor">
         </context>
      </target>
   </extension>
   <extension
         point="org.eclipse.ui.themes">
      <colorDefinition
            categoryId="org.eclipse.ui.workbenchMisc"
            colorFactory="com.aptana.editor.common.internal.theme.fontloader.FontLoader"
            id="com.aptana.editor.common.internal.theme.fontloader.FontLoader"
            label="FontLoader">
      </colorDefinition>
      <theme
            id="com.aptana.editor.common.theme"
            name="%customThemeName">
         <fontOverride
               id="org.eclipse.jface.textfont"
               value="Inconsolata-regular-14">
         </fontOverride>
         <fontOverride
               id="org.eclipse.ui.workbench.texteditor.blockSelectionModeFont"
               value="Inconsolata-regular-14">
         </fontOverride>
      </theme>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.ui.texteditor.ITextEditor"
            class="com.aptana.editor.common.FindBarDecoratedAdapterFactory">
         <adapter
               type="com.aptana.editor.findbar.api.IFindBarDecorated">
         </adapter>
      </factory>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.ui.texteditor.ITextEditor"
            class="com.aptana.editor.common.CommandElementsProviderAdapterFactory">
         <adapter
               type="com.aptana.scripting.keybindings.ICommandElementsProvider">
         </adapter>
      </factory>
   </extension>
   <extension
         point="com.aptana.scripting.loadPaths">
      <loadPath
            name="RadRails Framework Files"
            path="framework/">
      </loadPath>
   </extension>
   <extension
         point="com.aptana.scripting.frameworkFiles">
      <file
            name="radrails/editor.rb">
      </file>
   </extension>
   <extension
         point="com.aptana.scripting.contextContributors">
      <contributor
            class="com.aptana.editor.common.EditorContextContributor">
      </contributor>
   </extension>
</plugin>
